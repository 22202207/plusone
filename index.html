<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>商品一覧</title>
<style>
  :root{--gap:1rem;--card-min:220px}
  body{font-family:sans-serif;margin:0 auto;max-width:1200px;padding:1rem}
  h1{margin-bottom:1rem}

  /* ===== グリッド ===== */
  .grid{display:grid;gap:var(--gap);grid-template-columns:repeat(auto-fill,minmax(var(--card-min),1fr))}
  @media (max-width:640px){.grid{grid-template-columns:repeat(2,1fr)}}

  /* ===== カード ===== */
  .card{border:1px solid #e0e0e0;border-radius:8px;padding:.8rem;display:flex;flex-direction:column;transition:box-shadow .15s}
  .card:hover{box-shadow:0 4px 12px rgba(0,0,0,.12)}
  .card-link{flex:1;text-decoration:none;color:inherit;display:flex;flex-direction:column}
  .card img{width:100%;height:160px;object-fit:cover;border-radius:4px}
  @media (max-width:640px){.card img{height:140px}}
  .card h3{font-size:1rem;margin:.6rem 0 .4rem}
  .price{font-weight:bold;margin-bottom:.6rem}
  .btn{padding:.45rem;border:none;border-radius:4px;background:#4f46e5;color:#fff;cursor:pointer}

  /* ===== フッターカートバッジ ===== */
  .cart-fixed{position:fixed;bottom:1rem;right:1rem;background:#4f46e5;color:#fff;border-radius:24px;padding:.6rem 1rem;cursor:pointer;box-shadow:0 2px 6px rgba(0,0,0,.2);z-index:10}
</style>
</head>
<body>
<h1>商品一覧</h1>

<div class="grid" id="list">
  <!-- === 8 商品分 === -->
  <!-- カード構造: div.card > a.card-link + button -->
  <div class="card">
    <a href="2-B0091GCPPM.html" class="card-link">
      <img src="./images/2-B0091GCPPM.jpg" alt="">
      <h3>2-B0091GCPPM</h3>
      <div class="price" data-price="0">¥ --</div>
    </a>
    <button class="btn add-cart" data-id="2-B0091GCPPM">カートに追加</button>
  </div>

  <div class="card">
    <a href="2robo.html" class="card-link">
      <img src="./images/2robo.jpg" alt="">
      <h3>2robo</h3>
      <div class="price" data-price="0">¥ --</div>
    </a>
    <button class="btn add-cart" data-id="2robo">カートに追加</button>
  </div>

  <div class="card">
    <a href="4529451001122.html" class="card-link">
      <img src="./images/4529451001122.jpg" alt="">
      <h3>4529451001122</h3>
      <div class="price" data-price="0">¥ --</div>
    </a>
    <button class="btn add-cart" data-id="4529451001122">カートに追加</button>
  </div>

  <div class="card">
    <a href="B002CJVLFA.html" class="card-link">
      <img src="./images/B002CJVLFA.jpg" alt="">
      <h3>B002CJVLFA</h3>
      <div class="price" data-price="0">¥ --</div>
    </a>
    <button class="btn add-cart" data-id="B002CJVLFA">カートに追加</button>
  </div>

  <div class="card">
    <a href="B002CKF722.html" class="card-link">
      <img src="./images/B002CKF722.jpg" alt="">
      <h3>B002CKF722</h3>
      <div class="price" data-price="0">¥ --</div>
    </a>
    <button class="btn add-cart" data-id="B002CKF722">カートに追加</button>
  </div>

  <div class="card">
    <a href="B0091GCPPM.html" class="card-link">
      <img src="./images/B0091GCPPM.jpg" alt="">
      <h3>B0091GCPPM</h3>
      <div class="price" data-price="0">¥ --</div>
    </a>
    <button class="btn add-cart" data-id="B0091GCPPM">カートに追加</button>
  </div>

  <div class="card">
    <a href="B0091GDG50.html" class="card-link">
      <img src="./images/B0091GDG50.jpg" alt="">
      <h3>B0091GDG50</h3>
      <div class="price" data-price="0">¥ --</div>
    </a>
    <button class="btn add-cart" data-id="B0091GDG50">カートに追加</button>
  </div>

  <div class="card">
    <a href="B00KG3AAI8.html" class="card-link">
      <img src="./images/B00KG3AAI8.jpg" alt="">
      <h3>B00KG3AAI8</h3>
      <div class="price" data-price="0">¥ --</div>
    </a>
    <button class="btn add-cart" data-id="B00KG3AAI8">カートに追加</button>
  </div>
</div>

<!-- フッター固定カート -->
<div id="cart-fab" class="cart-fixed">カート (0)</div>

<script>
/* ====== 簡易カート (localStorage) ====== */
const CART_KEY = 'my_cart';
const cart = JSON.parse(localStorage.getItem(CART_KEY) || '{}');
const fab  = document.getElementById('cart-fab');
updateFab();

/* カート追加ボタン */
document.getElementById('list').addEventListener('click', e=>{
  if(!e.target.matches('.add-cart')) return;
  e.stopPropagation();          // Anchor への伝播を防ぐ
  const id = e.target.dataset.id;
  cart[id] = (cart[id]||0) + 1;
  localStorage.setItem(CART_KEY, JSON.stringify(cart));
  updateFab();
  e.target.textContent = '追加済み ✓';
});

/* FAB を押したら簡易一覧表示 */
fab.addEventListener('click', ()=>{
  const lines = Object.entries(cart).map(([id,q])=>`${id} × ${q}`);
  alert(lines.length ? 'カート内容:\n' + lines.join('\n') : 'カートは空です');
});

/* 個数表示更新 */
function updateFab(){
  const total = Object.values(cart).reduce((a,b)=>a+b,0);
  fab.textContent = `カート (${total})`;
}
</script>
</body>
</html>
